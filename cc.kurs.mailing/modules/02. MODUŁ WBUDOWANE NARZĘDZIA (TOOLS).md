Oto szczegółowo rozbudowana agenda **MODUŁU WBUDOWANE NARZĘDZIA (TOOLS)**. Każdy punkt z oryginalnego programu został uzupełniony o praktyczne przykłady, techniczne wskazówki (pro-tipy) oraz ciekawe pomysły na zastosowanie w codziennej pracy programisty.

---

### **MODUŁ WBUDOWANE NARZĘDZIA (TOOLS) (2-4h)**

Ten moduł to "skrzynka z narzędziami" agenta. Zrozumienie, jak i kiedy Claude używa poszczególnych narzędzi, pozwala pisać lepsze prompty i szybciej rozwiązywać problemy.

#### **1. Read – Czytanie Plików**
*   **Zagadnienie:** Podstawowe czytanie całego pliku.
    *   *Koncepcja:* Claude nie widzi Twoich plików, dopóki ich nie "przeczyta". Użycie `@` w prompcie to skrót do tego narzędzia.
    *   **Przykład praktyczny:** Wpisanie `> summarize logic in @src/utils/validation.ts` automatycznie wywołuje `Read` na wskazanym pliku.
*   **Zagadnienie:** Czytanie z offsetem i limitem dla dużych plików.
    *   *Problem:* Próba wczytania logu błędu mającego 50MB "zapcha" kontekst.
    *   **Przykład praktyczny:** "Przeczytaj plik `server.log`, ale tylko linie od 5000 do 5100, gdzie wystąpił błąd" – Claude użyje parametrów `offset: 5000` i `limit: 100`.
    *   **Pro-Tip:** Jeśli pracujesz z gigantycznym plikiem JSON, poproś Claude'a o napisanie skryptu w Pythonie do jego analizy, zamiast kazać mu czytać go narzędziem `Read`.
*   **Zagadnienie:** Czytanie obrazów i PDFów.
    *   *Możliwości:* Claude "widzi" zrzuty ekranu i "czyta" dokumentację w PDF.
    *   **Ciekawy pomysł:** Zrób zrzut ekranu makiety UI, wklej do terminala i napisz: "Użyj @screenshot.png jako wzoru i wygeneruj komponent React (Tailwind CSS), który wygląda identycznie".

#### **2. Write – Tworzenie Plików**
*   **Zagadnienie:** Tworzenie nowych plików z zawartością.
    *   *Zastosowanie:* Generowanie boilerplate'u, plików konfiguracyjnych, nowych komponentów.
    *   **Przykład praktyczny:** `> Create new Dockerfile optimized for Node.js 18 alpine image`.
*   **Zagadnienie:** Nadpisywanie istniejących plików (wymaga wcześniejszego Read).
    *   *Zasada bezpieczeństwa:* Claude nie może nadpisać pliku, którego treści nie zna (aby nie usunąć czegoś ważnego). Musi najpierw wykonać `Read`.
*   **Zagadnienie:** Kiedy NIE używać Write.
    *   *Złota zasada:* Narzędzie `Write` nadpisuje **cały** plik. Jeśli chcesz zmienić jedną linijkę w pliku 1000-wierszowym, użycie `Write` jest marnowaniem tokenów i ryzykownym działaniem. Wtedy używamy `Edit`.

#### **3. Edit – Modyfikacja Plików**
*   **Zagadnienie:** Exact string replacement w plikach.
    *   *Mechanika:* Claude musi podać dokładny ciąg znaków do usunięcia (`old_string`) i nowy ciąg (`new_string`).
    *   **Przykład praktyczny:** Refaktoryzacja nazwy zmiennej: `old_string: "var x = 1"`, `new_string: "const userCount = 1"`.
*   **Zagadnienie:** Replace all dla zmian globalnych.
    *   *Zastosowanie:* Szybka zmiana nazw funkcji lub stałych w całym pliku.
    *   **Przykład praktyczny:** Użycie `replace_all: true` przy zmianie `import { oldLib }` na `import { newLib }` we wszystkich miejscach pliku.
*   **Zagadnienie:** Zachowanie wcięć i formatowania.
    *   *Najczęstszy błąd:* Claude (lub użytkownik) podaje `old_string` bez wcięć, które są w pliku. Edycja się nie uda.
    *   **Pro-Tip:** Jeśli Claude ma problem z edycją ("Search string not found"), poproś go: "Read the file again and be careful with indentation", albo sam skopiuj fragment z `Read` i wklej mu jako wzorzec.

#### **4. NotebookEdit – Edycja Jupyter Notebooks**
*   **Zagadnienie:** Zamiana zawartości komórki w notebooku.
    *   *Specyfika:* Pliki `.ipynb` to JSON-y, ręczna edycja jest trudna. Narzędzie operuje na poziomie komórek.
    *   **Przykład praktyczny:** `new_source: "df.describe()"` dla komórki z ID `cell_1`.
*   **Zagadnienie:** Dodawanie i usuwanie komórek.
    *   *Workflow:* Dodanie nowej komórki z kodem wizualizacji danych po komórce z ładowaniem danych. Użycie `edit_mode: "insert"`.
*   **Zagadnienie:** Typy komórek.
    *   **Przykład praktyczny:** Zamiana komórki z kodem na komórkę `markdown` w celu dodania wyjaśnienia analizy danych.

#### **5. Bash – Wykonywanie Komend**
*   **Zagadnienie:** Podstawowe komendy systemowe.
    *   *Działanie:* Claude to Twój operator terminala.
    *   **Przykład praktyczny:** `> Run tests for the auth module`. Claude wykona: `npm test src/auth` (jeśli tak zdefiniowano w `package.json`).
*   **Zagadnienie:** Timeout i background execution.
    *   *Scenariusz:* Uruchomienie serwera deweloperskiego, który blokuje terminal.
    *   **Rozwiązanie:** Claude używa `run_in_background: true`. Zwraca `shellId`, który pozwala później sprawdzać logi narzędziem `BashOutput`.
*   **Zagadnienie:** Cytowanie ścieżek ze spacjami.
    *   *Pułapka:* Systemy operacyjne (zwłaszcza Windows/macOS) często mają spacje w nazwach katalogów.
    *   **Przykład:** Prawidłowe: `cd "/Users/Jan Kowalski/Projekt"`. Nieprawidłowe: `cd /Users/Jan Kowalski/Projekt`.
*   **Zagadnienie:** Sekwencyjne vs równoległe komendy.
    *   **Pro-Tip:** Claude potrafi łączyć komendy: `npm install && npm run build`. Jeśli jedna zawiedzie, druga się nie wykona.

#### **6. Glob – Wyszukiwanie Plików**
*   **Zagadnienie:** Pattern matching dla plików.
    *   *Idea:* "Znajdź mi wszystkie pliki konfiguracyjne".
    *   **Przykład praktyczny:** `Glob pattern: "**/*.config.js"` – rekurencyjne przeszukanie projektu.
*   **Zagadnienie:** Glob w konkretnym katalogu.
    *   *Optymalizacja:* Zamiast szukać w całym repozytorium (co trwa i kosztuje), szukaj lokalnie.
    *   **Przykład:** `path: "./src/components"` – szukaj tylko w komponentach.
*   **Zagadnienie:** Sortowanie po dacie modyfikacji.
    *   **Ciekawy pomysł:** "Pokaż mi pliki, nad którymi ostatnio pracowaliśmy". Glob zwraca wyniki posortowane od najnowszych, co daje Claude'owi kontekst "świeżości" kodu.

#### **7. Grep – Wyszukiwanie Zawartości**
*   **Zagadnienie:** Podstawowe wyszukiwanie regex w plikach.
    *   *Moc:* Znajdowanie użycia konkretnej funkcji lub zmiennej w całym projekcie.
    *   **Przykład praktyczny:** `Grep pattern: "TODO:"` – znajdź wszystkie miejsca wymagające pracy.
*   **Zagadnienie:** Output modes – content, files, count.
    *   *Strategia:* Najpierw użyj `count` lub `files_with_matches`, aby zobaczyć skalę zmian. Dopiero potem `content`, aby pobrać kod. To oszczędza tokeny.
*   **Zagadnienie:** Filtrowanie po typie pliku i multiline.
    *   **Pro-Tip:** `Grep pattern: "function.*\\n.*return"` z opcją `multiline: true` pozwala znaleźć funkcje, które od razu zwracają wartość, ignorując formatowanie kodu.

#### **8. WebFetch – Pobieranie Stron**
*   **Zagadnienie:** Fetch URL i analiza zawartości.
    *   *Zastosowanie:* Pobieranie dokumentacji biblioteki, która wyszła wczoraj i której model nie zna.
    *   **Przykład praktyczny:** `> Check documentation at https://ui.shadcn.com/docs and explain how to use the Button component`.
*   **Zagadnienie:** Redirects i cache.
    *   *Wydajność:* WebFetch ma 15-minutowy cache. Jeśli testujesz endpoint API, który zmienia dane co sekundę, pamiętaj o tym ograniczeniu.
*   **Zagadnienie:** Kiedy używać MCP zamiast WebFetch.
    *   **Rekomendacja:** Jeśli masz MCP do GitHuba lub Jira, użyj go zamiast scrapować ich strony przez WebFetch. MCP jest stabilniejsze i daje ustrukturyzowane dane.

#### **9. WebSearch – Wyszukiwanie w Internecie**
*   **Zagadnienie:** Wyszukiwanie aktualnych informacji.
    *   *Use case:* Rozwiązywanie błędu, który pojawił się w nowej wersji frameworka.
    *   **Przykład praktyczny:** `> Search for 'React Router v7 breaking changes'`. Claude dostaje wyniki z Google/Binga.
*   **Zagadnienie:** Domain filtering.
    *   *Jakość:* Ogranicz wyszukiwanie do zaufanych domen, aby uniknąć spamu SEO.
    *   **Przykład:** `allowed_domains: ["stackoverflow.com", "github.com", "react.dev"]`.
*   **Zagadnienie:** KRYTYCZNE: Zawsze dodawaj Sources.
    *   **Zasada:** Claude musi podać linki do źródeł, z których korzystał. To buduje zaufanie i pozwala na weryfikację.

#### **10. Task – Delegacja do Subagentów**
*   **Zagadnienie:** Wywoływanie specjalistycznych agentów.
    *   *Architektura:* Główny agent to "Project Manager", który deleguje zadania.
    *   **Przykład praktyczny:** `Task subagent_type: "Explore"` – "Przeszukaj repozytorium i zmapuj wszystkie zależności między modułami". Agent "Explore" używa tańszego modelu (np. Haiku) i nie zaśmieca głównego kontekstu.
*   **Zagadnienie:** Dostępne typy subagentów (Explore, Plan, itd.).
    *   *Specjalizacja:* Agent `Plan` (architekt) vs Agent `Code` (wykonawca).
*   **Zagadnienie:** Background execution i resumowanie.
    *   **Ciekawy pomysł:** Uruchom długotrwałe zadanie (np. "Przeanalizuj logi z ostatniego miesiąca") w tle (`run_in_background: true`), pracuj nad czymś innym, a potem odbierz wynik za pomocą `TaskOutput`.

#### **11. TodoWrite – Zarządzanie Taskami**
*   **Zagadnienie:** Tworzenie listy zadań dla złożonych operacji.
    *   *Organizacja:* Zamiast trzymać wszystko w "głowie" (kontekście), Claude zapisuje stan w obiekcie Todo.
    *   **Przykład praktyczny:** Migracja bazy danych: 1. Backup, 2. Generowanie migracji, 3. Aplikacja migracji, 4. Weryfikacja. Todo pozwala wznowić pracę po błędzie w punkcie 3.
*   **Zagadnienie:** Statusy zadań i workflow.
    *   *Cykl życia:* `pending` -> `in_progress` -> `completed`.
*   **Zagadnienie:** Kiedy używać (złożone zadania) vs kiedy nie (proste).
    *   *Zasada:* Jeśli zadanie zajmie więcej niż 3 prompty, użyj TodoWrite. Jeśli to "popraw literówkę", nie używaj.

#### **12. AskUserQuestion – Zadawanie Pytań**
*   **Zagadnienie:** Zbieranie preferencji i wyborów użytkownika.
    *   *Interakcja:* Claude nie musi zgadywać. Może wyświetlić menu wyboru w terminalu.
    *   **Przykład praktyczny:** Claude pyta: "Wykryłem kilka menedżerów pakietów. Którego użyć?" Opcje: `[npm, yarn, pnpm]`.
*   **Zagadnienie:** Single vs multi-select i "Recommended".
    *   **Pro-Tip:** Możesz poprosić Claude'a, by zawsze sugerował opcję "Recommended" na podstawie analizy projektu (np. widzi `yarn.lock`, więc rekomenduje Yarn).
*   **Zagadnienie:** Automatyczne "Other" option.
    *   *Elastyczność:* Użytkownik zawsze może wpisać własną odpowiedź, jeśli żadna z opcji nie pasuje.